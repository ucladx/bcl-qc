conda.enabled = true

plugins {
	id 'nf-validation' // paramater validation and samplesheet parsing
}

params {
	validate_params = true
	show_params_summary = true

	input = null // samplesheet
	run_dir = null
	fastq_outdir = null
	bam_outdir = null
	fastq_list = null // can be provided to independently run alignment
	assay = null // can be provided to specify assay without needing samplesheet
	steps = ['demux','align','multiqc']
	tmpdir = "/staging/tmp/"

	pcp {
	dragen_version= "4.0.3-8"
	dragen_install = "/staging/installer/dragen-4.0.3-8.el7.x86_64.run"
	reference_dir = "/staging/human/reference/hg38_alt_masked_graph_v2"
	targets_bed = "/mnt/pns/tracks/ucla_mdl_cancer_ngs_v1_exon_targets.hg38.bed"
	baits_bed = "/mnt/pns/tracks/ucla_mdl_cancer_ngs_v1_merged_baits.hg38.bed"
	}

	pto {
	dragen_version = "4.2.4-2-g510a01ca"
	dragen_install = "/staging/installer/dragen-4.2.4_2_g510a01ca-9.el7.x86_64.run"
	reference_dir = "/staging/human/reference/hg38_alt_masked_graph_v3"
	targets_bed = "/mnt/pns/tracks/ucla_mdl_cancer_ngs_v1_exon_targets.hg38.bed"
	baits_bed = "/mnt/pns/tracks/ucla_mdl_cancer_ngs_v1_merged_baits.hg38.bed"
	}

	ces {
	dragen_version = "4.2.4-2-g510a01ca"
	dragen_install = "/staging/installer/dragen-4.2.4_2_g510a01ca-9.el7.x86_64.run"
	reference_dir = "/staging/human/reference/hg38_alt_masked_graph_v3"
	targets_bed = "/mnt/pns/tracks/mane_release_v1.2_cds_targets.hg38.bed"
	baits_bed = "/mnt/pns/tracks/agilent_ssxt_cre_merged_baits.hg38.bed"
	cnv_normals_list = "/mnt/pns/pon/agilent_cre_hg38_cnv_baseline.txt"
	addtl_cmds = "--enable-cnv true --cnv-normals-list ${cnv_normals_list} --cnv-target-bed ${baits_bed} --cnv-interval-width 120 --cnv-enable-split-intervals false --cnv-counts-method start --cnv-enable-gcbias-correction false --cnv-segmentation-mode hslm"
	}

	heme {
	dragen_version = "4.2.4-2-g510a01ca"
	dragen_install = "/staging/installer/dragen-4.2.4_2_g510a01ca-9.el7.x86_64.run"
	dragen_addtl_align_opts = "--enable-umi true"
	reference_dir = "/staging/human/reference/hg38_alt_masked_graph_v3"
	targets_bed = "/mnt/pns/tracks/mane_release_v1.2_cds_targets.hg38.bed"
	baits_bed = "/mnt/pns/tracks/twist_exome_v2_merged_baits.hg38.bed"
	}
}
